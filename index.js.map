{"version":3,"file":"index.js","sources":["../src/js/reviews.js"],"sourcesContent":["import axios from 'axios';\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation } from 'swiper/modules';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\nasync function getImagesByQuery() {\n  const response = await axios.get('/reviews');\n\n  if (response.data.length === 0) {\n    throw new Error('Sorry, there are no other reviews');\n  } else {\n    return response.data;\n  }\n}\n\nasync function createreviews() {\n  try {\n    const data = await getImagesByQuery();\n    console.log(data);\n    const swiperWriper = document.querySelector(\n      '.reviews-section .swiper-wrapper'\n    );\n    const markup = data\n      .map(\n        el =>\n          `<li class=\"swiper-slide\">\n\n                <img src=\"${el.avatar_url}\" alt=\"photo of ${el.author}\" class=\"review-photo\">\n                <p class=\"review-name\">${el.author}</p>\n                <p class=\"review-text\">${el.review}</p>\n            </li>`\n      )\n      .join('');\n    swiperWriper.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    const swiperWriper = document.querySelector(\n      '.reviews-section .swiper-wrapper'\n    );\n    swiperWriper.insertAdjacentHTML(\n      'beforeend',\n      '<p class=\"reviews-error\">Not found</p>'\n    );\n    iziToast.show({\n      title: 'Error',\n      message: error.message,\n      color: 'red',\n      position: 'topRight',\n    });\n  }\n}\n\ncreatereviews();\n\nconst swiper = new Swiper('.reviews-section .swiper', {\n  direction: 'horizontal',\n  modules: [Navigation],\n  spaceBetween: 16,\n  navigation: {\n    nextEl: '.reviews-section .swiper-button-next',\n    prevEl: '.reviews-section .swiper-button-prev',\n  },\n  breakpoints: {\n    // when window width is >= 320px\n    320: {\n      slidesPerView: 1,\n      allowTouchMove: true,\n    },\n    // when window width is >= 480px\n    768: {\n      slidesPerView: 2,\n    },\n    // when window width is >= 640px\n    1440: {\n      slidesPerView: 4,\n      allowTouchMove: false,\n    },\n  },\n});\n"],"names":["axios","getImagesByQuery","response","createreviews","data","swiperWriper","markup","el","error","iziToast","Swiper","Navigation"],"mappings":"swBAOAA,EAAM,SAAS,QAAU,wCAEzB,eAAeC,GAAmB,CAChC,MAAMC,EAAW,MAAMF,EAAM,IAAI,UAAU,EAE3C,GAAIE,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MAAM,mCAAmC,EAEnD,OAAOA,EAAS,IAEpB,CAEA,eAAeC,GAAgB,CAC7B,GAAI,CACF,MAAMC,EAAO,MAAMH,IACnB,QAAQ,IAAIG,CAAI,EAChB,MAAMC,EAAe,SAAS,cAC5B,kCACN,EACUC,EAASF,EACZ,IACCG,GACE;AAAA;AAAA,4BAEkBA,EAAG,UAAU,mBAAmBA,EAAG,MAAM;AAAA,yCAC5BA,EAAG,MAAM;AAAA,yCACTA,EAAG,MAAM;AAAA,kBAE3C,EACA,KAAK,EAAE,EACVF,EAAa,mBAAmB,YAAaC,CAAM,CACpD,OAAQE,EAAO,CACO,SAAS,cAC5B,kCACN,EACiB,mBACX,YACA,wCACN,EACIC,EAAS,KAAK,CACZ,MAAO,QACP,QAASD,EAAM,QACf,MAAO,MACP,SAAU,UAChB,CAAK,CACF,CACH,CAEAL,IAEe,IAAIO,EAAO,2BAA4B,CACpD,UAAW,aACX,QAAS,CAACC,CAAU,EACpB,aAAc,GACd,WAAY,CACV,OAAQ,uCACR,OAAQ,sCACT,EACD,YAAa,CAEX,IAAK,CACH,cAAe,EACf,eAAgB,EACjB,EAED,IAAK,CACH,cAAe,CAChB,EAED,KAAM,CACJ,cAAe,EACf,eAAgB,EACjB,CACF,CACH,CAAC"}